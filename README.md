# gpx-to-svg
Some tools to render GPX encoded geo tracks to a SVG path.

The sample track (gpx/train-track.gpx) is generated by the iOS app Track (version 2.3) by 7SOLS.

The sample map (svg/italy-map.svg) is free licenced for non commercial use by https://www.amcharts.com/svg-maps/.

![svg sample](https://raw.githubusercontent.com/OpenDGPS/gpx-to-svg/master/media/sample.png "Sample SVG Output")

*Sample SVG rendering from multiple trips in Umbria, Italy.*

###1. XSLT

Reads SVG file as map and transform a new SVG file

The example file ('italy-map.svg') comes from https://www.amcharts.com/svg-maps/

If there is a path element with id="odgps-insert" it will replace this path
  with a new path generated from a GPX track.

The available tracks are defined in $doc-list as '<filename without extension>' 
  multiple files seperate by comma (sample: train-track.gpx)

The map has to be normalized. Set $lat-root to the coordinates of 
  the top coordinates (svg position:y) and $lon-root to the very left coordinates (svg position:x)

Run:

    java -jar <xslt2-processor> svg/italy-map.svg xslt/gpx-to-svg.xslt > out/out.svg

Run (with saxon):

    java -jar saxon9.jar svg/italy-map.svg xslt/gpx-to-svg.xslt > out/out.svg
  
###2. JavaScript

Read a track file via XmlHTTPRequest method, get all track points and build a pathString from @lat/@lon.

Run:

    open italy-map-js.svg in your fav browser. 
    
*Make sure to enable XmlHTTPRequest for file:// protocoll, otherwise run the request from a local http-server.*

###3. Julia

gpx-to-svg.jl uses LightXML to parse both the GPX track file and the SVG. 

*Currently not many more track entries than 1k can be parsed. Any number significant higher kills the Julia-kernel with no explanations. The error could be in the browser-backend communication or in the LightXML.*

Run:

    copy the gpx-to-svg.jl in jupyter notebook and make shure the gpx/1k.gpx file is available  

###4. C

TODO: create sample

